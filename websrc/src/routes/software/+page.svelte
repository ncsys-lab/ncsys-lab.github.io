<script lang="ts">
	import Block from '$lib/Callout.svelte';
	import Code from '$lib/Code.svelte';
	import OnlyShowOn, { system } from '$lib/OnlyShowOn.svelte';
</script>

<svelte:head>
	<title>CS 45: Software Installation</title>
</svelte:head>

<h1>Software &amp; Computer Setup</h1>

<OnlyShowOn mac>
	<Block warning>
		We’ve detected that you're using a Mac computer.
		<a href="#top" on:click={() => ($system = 'windows')}> Click here if you’re using Windows </a>
		or <a href="#top" on:click={() => ($system = 'linux')}>Linux.</a>
		The instructions on this page will be tailored to the detected system.
	</Block>
</OnlyShowOn>

<OnlyShowOn windows>
	<Block warning>
		We’ve detected that you're using a Windows computer.
		<a href="#top" on:click={() => ($system = 'mac')}>Click here if you’re using Mac</a>
		or <a href="#top" on:click={() => ($system = 'linux')}>Linux.</a>
		The instructions on this page will be tailored to the detected system.
	</Block>
</OnlyShowOn>

<OnlyShowOn linux>
	<Block warning>
		We’ve detected that you're using a Linux computer.
		<a href="#top" on:click={() => ($system = 'mac')}>Click here if you’re using Mac</a>
		or <a href="#top" on:click={() => ($system = 'windows')}>Windows.</a>
		The instructions on this page will be tailored to the detected system.
	</Block>
</OnlyShowOn>

<OnlyShowOn unknown>
	<Block warning>
		The instructions on this page are tailored to your system, but we couldn't detect it.

		<a href="#top" on:click={() => ($system = 'mac')}>Click here if you’re using Mac</a>, or
		<a href="#top" on:click={() => ($system = 'windows')}>here if you're using Windows</a>, or
		<a href="#top" on:click={() => ($system = 'windows')}>here if you're using Linux</a>.
	</Block>
</OnlyShowOn>

<h2 id="shell-setup">Setting Up Your Shell Environment</h2>

<OnlyShowOn linux>
	<p>
		If you’re running linux, you’re already all good to go! Note that the install instructions below
		assume you’re running some flavor of Ubuntu or Debian; if you use a different distribution,
		replace
		<code>apt-get install</code> with the appropriate installation command for the package manager
		your distribution uses (e.g.
		<code>pacman</code> or <code>yum</code>)
	</p>
</OnlyShowOn>

<OnlyShowOn mac>
	<h3>Installing Homebrew</h3>
	<p>
		macOS already has a working shell environment, but it’s not straightforward to install some of
		the tools we’ll be using manually. Instead, we’ll use
		<strong>Homebrew</strong>, the “missing package manager for macOS.”
	</p>
	<p>If you already have Homebrew installed, you don’t need to install it again.</p>
	<p>
		To install, open the Terminal app on your Mac and follow the instructions at
		<a href="https://brew.sh/" rel="noopener noreferrer" target="_blank"> Homebrew’s website. </a>
		Namely, copy-paste the following into your terminal window and press Return:
	</p>
	<Block>
		<Code prefix="$" language="shell">
			/bin/bash -c "$(curl -fsSL
			https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
		</Code>
	</Block>
	<p>
		Then follow the instructions as they show up in your terminal. You may need to type your
		computer password at some point; note that there will be no visual feedback, just hit enter once
		it has been typed.
	</p>
	<p>
		<strong
			>At the end of the setup, there may be a section that reads “Next Steps...” with instructions
			to copy/paste a few lines. Please do these to finish the setup.</strong
		>
		You can test to make sure you did it correctly by typing
		<code>brew</code> and making sure it gives you help text and information (and does not say “command
		not found”).
	</p>
</OnlyShowOn>

<OnlyShowOn windows>
	<h3>Installing WSL</h3>
	<p>
		Windows Subsystem for Linux, or WSL, allows you to run a traditional Unix shell on your Windows
		machine. We’ll do our best to show off Windows-compatible and Windows-native software as we go
		through, but many useful and/or necessary tools used when doing software developemnt are only
		available via a Unix shell. (This is a problem Microsoft realized, and WSL is their answer to
		it!)
	</p>
	<p>
		To install WSL, ensure you’re running a recent version of Windows 10 or Windows 11. Then,
		right-click the start menu, and click
		<strong>Command Prompt: Administrator</strong> or
		<strong>Windows Powershell: Administrator</strong>. Press "Yes" when prompted. Finally, type in
		the following command:
	</p>
	<Block>
		<Code prefix=">">wsl --install -d Ubuntu</Code>
	</Block>
	<p>
		Wait for it to finish. Once you’re done, you should find a new application on your computer
		entitled <strong>Ubuntu</strong> – launch this to get a Unix shell. All the install instructions
		below will assume you’re working within a Unix shell.
	</p>
</OnlyShowOn>

<h2 id="software">Software for the class</h2>

<h3 id="lec2">Lecture 2: The Shell and Shell Tools</h3>
<div>
	Follow the <a href="#shell-setup">shell setup</a> instructions and you’ll be good to go.
</div>

<h3 id="lec5">Lecture 5: Text Editors</h3>
<p>
	You'll want to install the <code>vim</code> program to fully follow along:
</p>

<OnlyShowOn windows linux>
	<Block>
		<Code language="shell" prefix="$">sudo apt-get install vim</Code>
	</Block>
</OnlyShowOn>

<OnlyShowOn mac>
	<Block>
		<Code language="shell" prefix="$">brew install vim</Code>
	</Block>
</OnlyShowOn>

<h3 id="lec6">Lecture 6: Command-Line Environment</h3>
<p>
	You'll want to install the <code>tmux</code> program to fully follow along:
</p>

<OnlyShowOn windows linux>
	<Block>
		<Code language="shell" prefix="$">sudo apt-get install tmux</Code>
	</Block>
</OnlyShowOn>

<OnlyShowOn mac>
	<Block>
		<Code language="shell" prefix="$">brew install tmux</Code>
	</Block>
</OnlyShowOn>

<h3 id="lec7">Lecture 7: Computer Networking</h3>
<p>
	You'll want to install <code>python3</code>, <code>node</code>,
	<code>ngrok</code>, <code>dig</code> and optionally Wireshark to fully follow along. You'll also
	need to sign up for an
	<a href="https://ngrok.com/" target="_blank" rel="noreferrer noopener">
		<code>ngrok</code> account.
	</a>
</p>

<OnlyShowOn linux>
	On Linux, you may also need to install traceroute and dig:
	<Block>
		<Code language="shell" prefix="$">sudo apt-get install inetutils-traceroute dnsutils</Code>
		<Code language="shell" prefix="$">sudo apt-get install curl dnsutils</Code>
		<Code language="shell" prefix="$"
			>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash</Code
		>
	</Block>
	<div>...then restart your terminal, and run...</div>
	<Block>
		<Code language="shell" prefix="$">nvm install node</Code>

		<Code language="shell" prefix="$">
			curl -s https://ngrok-agent.s3.amazonaws.com/ngrok.asc | sudo tee
			/etc/apt/trusted.gpg.d/ngrok.asc >/dev/null && echo "deb https://ngrok-agent.s3.amazonaws.com
			buster main" | sudo tee /etc/apt/sources.list.d/ngrok.list && sudo apt update && sudo apt
			install ngrok
		</Code>
		<Code language="shell" prefix="$">sudo apt-get install python3 wireshark</Code>
	</Block>
</OnlyShowOn>

<OnlyShowOn windows>
	<Block>
		<Code language="shell" prefix="$">sudo apt-get install curl dnsutils</Code>
		<Code language="shell" prefix="$"
			>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash</Code
		>
	</Block>
	<div>...then restart your terminal, and run...</div>
	<Block>
		<Code language="shell" prefix="$">nvm install node</Code>

		<Code language="shell" prefix="$">
			curl -s https://ngrok-agent.s3.amazonaws.com/ngrok.asc | sudo tee
			/etc/apt/trusted.gpg.d/ngrok.asc >/dev/null && echo "deb https://ngrok-agent.s3.amazonaws.com
			buster main" | sudo tee /etc/apt/sources.list.d/ngrok.list && sudo apt update && sudo apt
			install ngrok
		</Code>
		<Code language="shell" prefix="$">sudo apt-get install python3</Code>
	</Block>
</OnlyShowOn>

<OnlyShowOn mac>
	<Block>
		<Code language="shell" prefix="$">brew install node</Code>
		<Code language="shell" prefix="$">brew install ngrok/ngrok/ngrok</Code>
		<Code language="shell" prefix="$">brew install python3</Code>
	</Block>
</OnlyShowOn>

<OnlyShowOn windows mac>
	<p>
		You can download Wireshark
		<a href="https://www.wireshark.org/download.html" rel="noopener noreferrer" target="_blank">
			here.
		</a>
	</p>
</OnlyShowOn>

<h3 id="lec8">Lectures 8 and 9: Version Control</h3>
<p>
	You'll want to install the <code>git</code> and
	<code>gh</code> programs to fully follow along:
</p>

<OnlyShowOn windows linux>
	<Block>
		<Code prefix="$" language="shell">sudo apt-get install git</Code>
	</Block>

	To install <code>gh</code>, follow the steps from
	<a href="https://github.com/cli/cli/blob/trunk/docs/install_linux.md"
		>the official installation instructions</a
	>.
</OnlyShowOn>

<OnlyShowOn mac>
	On macOS, <code>git</code> is already installed if you followed the instructions above.
	<Block>
		<Code prefix="$" language="shell">brew install gh</Code>
	</Block>
</OnlyShowOn>

<p>
	You'll also want to sign up for a GitHub account at
	<a href="https://github.com/signup">github.com/signup</a>, if you don't already have one.
</p>

<h3 id="lec15">Lecture 15: Virtual Machines &amp; Containers</h3>
<p>You'll want to install a virtual machine hypervisor for your platform, and Docker Desktop.</p>
<OnlyShowOn mac>
	<p>
		Download UTM from
		<a href="https://mac.getutm.app/" rel="noopener noreferrer"> here.</a>
	</p>
</OnlyShowOn>
<OnlyShowOn windows>
	<p>
		Download Virtualbox from
		<a href="https://www.virtualbox.org/wiki/Downloads" rel="noopener noreferrer" target="_blank">
			here.
		</a>
	</p>
</OnlyShowOn>
<OnlyShowOn linux>
	<p>
		Download Virtualbox from
		<a
			href="https://www.virtualbox.org/wiki/Linux_Downloads"
			rel="noopener noreferrer"
			target="_blank"
		>
			here.
		</a>
	</p>
</OnlyShowOn>
<p>
	And finally, download and install Docker Desktop from
	<a href="https://docs.docker.com/get-docker/" rel="noopener noreferrer" target="_blank">
		here.
	</a>
</p>

<h3 id="lec16">Lecture 16: Cloud &amp; Serverless Computing</h3>
<p>You’ll need to sign up for an account with Vercel and Oracle Cloud.</p>
<p>
	Sign up or log in to your
	<a href="https://vercel.com" rel="noopener noreferrer" target="_blank"> Vercel account,</a>
	and sign up or log in to your
	<a href="https://www.oracle.com/cloud/sign-in.html" rel="noopener noreferrer" target="_blank">
		Oracle Cloud account.</a
	>
	(Note that you will need to provide a payment method to Oracle Cloud in order to complete sign-up.
	You will not be charged. Let us know if this presents you with any issue!)
</p>
